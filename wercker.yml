box: jkawamoto/ghp-box
build:
  steps:
    - script:
        name: Prepare submodules
        code: |-
          git submodule update --init
    - jkawamoto/sphinx:
        basedir: docs
        packages: sphinx-autobuild sphinxcontrib-napoleon -e git+https://github.com/snide/sphinx_rtd_theme#egg=sphinx_rtd_theme-master
    - samueldebruyn/minify:
        base_dir: docs/build/html
        html_args: --use-short-doctype --remove-style-link-type-attributes --remove-script-type-attributes --remove-comments --minify-css --minify-js --collapse-whitespace --conservative-collapse
deploy:
  steps:
    - jkawamoto/ghp-import:
        token: $GIT_TOKEN
        basedir: docs/build/html
